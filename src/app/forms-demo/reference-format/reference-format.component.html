<div class="ui-g-6">
    <div *ngIf="referenceFormat">
        <form [formGroup]="referenceFormat">
            <div formArrayName="referenceFormatArray">
                <p-table [value]="referenceFormatArray1.controls">
                    <ng-template pTemplate="header">
                        <tr>
                            <th>Index</th>
                            <th>Origin</th>
                            <th>Destination</th>
                            <th colspan="2">Options</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-data let-rowIndex="rowIndex">
                        <tr [formGroupName]="rowIndex">
                            <td>
                                <input pInutText type="text" formControlName="index" [value]="rowIndex" readonly>
                            </td>
                            <td>
                                <input pInutText type="text" formControlName="origin">
                            </td>
                            <td>
                                <input pInutText type="text" formControlName="destination">
                            </td>
                            <td>
                                <button pButton type="button" label="deleteRecord"
                                    (click)="deleteSelectedRecord(rowIndex)"></button>
                            </td>
                            <td>
                                <button pButton type="button" label="showMinMax"
                                    (click)="showMinMax(rowIndex)"></button>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
            <!-- <div class="ui-g-6" *ngIf="referenceFormat.minMaxArray">
            <div formArrayName="minMaxArray">
                <p-table [value]="minMaxValuesArray.controls">
                        <p>{{ minMaxValuesArray.value | json}}</p>
                    <ng-template pTemplate="header">
                        <tr>
                            <th>minMaxRowIndex</th>
                            <th>Min Value: </th>
                            <th>Max Value: </th>
                            <th>MinMax Characters: </th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-data let-rowIndex="minMaxRowIndex">
                        <tr [formGroupName]="minMaxRowIndex">
                            <td>
                                <input pInutText type="text"  [value]="minMaxRowIndex" readonly>
                            </td>
                            <td>
                                <input pInutText type="text" formControlName="minValue">
                            </td>
                            <td>
                                <input pInutText type="text" formControlName="maxValue">
                            </td>
                            <td>
                                <input pInutText type="text" formControlName="minMaxCharacters">
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div> -->
        </form>
    </div>
</div>
<!-- <div class="ui-g-6" *ngIf="display">
    <p>MinMax options</p>
    <form [formGroup]="minMaxOptionsGroup">
        <div formArrayName="minMaxOptionsArray" class="ui-g-12" >
            <div [formGroupName]="presentRowIndexMinMaxGroup" id="referOptions">
                <div class="ui-g-3">
                    <input pInutText type="text" formControlName="minMaxIndex">
                </div>
                <div class="ui-g-3">
                    <input pInutText type="text" formControlName="minValue" >
                </div>
                <div class="ui-g-3">
                    <input pInutText type="text" formControlName="maxValue">
                </div>
                <div class="ui-g-3">
                    <input pInutText type="text" formControlName="minMaxCharacters">
                </div>
            </div>
        </div>
    </form>
</div> -->
<div class="ui-g-6" *ngIf="display">
    <p>MinMax options</p>
    <form [formGroup]="minMaxOptionsGroup">
        <div formArrayName="minMaxOptionsArray" class="ui-g-12"
            *ngFor="let minMax of getSelectedMinMaxRecords(presentRowIndexMinMaxGroup)">
            <!-- *ngFor="let minMax of minMaxOptionsGroup.get('minMaxOptionsArray').controls; let i=index;"> -->
            <!-- <div *ngIf="presentRowIndexMinMaxGroup == i"> -->
                <div [formGroupName]="presentRowIndexMinMaxGroup">
                    <!-- <div [formGroupName]="i" *ngIf="presentRowIndexMinMaxGroup===i"> -->
                    <div class="ui-g-3">
                        <input pInutText type="text" [value]="presentRowIndexMinMaxGroup" readonly>
                    </div>
                    <div class="ui-g-3">
                        <input pInutText type="text" formControlName="minValue">
                    </div>
                    <div class="ui-g-3">
                        <input pInutText type="text" formControlName="maxValue">
                    </div>
                    <div class="ui-g-3">
                        <input pInutText type="text" formControlName="minMaxCharacters">
                    </div>
                </div>
            <!-- </div> -->
        </div>
    </form>
</div>

<p-button class="ui-g-12" label="Add row" (click)="addNewRecord()"></p-button>
<div class="ui-g-3">
    <pre>{{ referenceFormat.value | json}}</pre>
</div>
<div class="ui-g-3">
    <pre>{{ minMaxOptionsGroup.value | json}}</pre>
</div>